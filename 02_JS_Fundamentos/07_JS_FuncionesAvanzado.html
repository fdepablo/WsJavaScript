<!DOCTYPE html>
<html>
<head>
	<meta charset="ISO-8859-1">
	<title>Funciones avanzadas</title>
	<script type="text/javascript">
		//Algunas peculiaridades de JS, podemos tener funciones dentro de funciones
		function imprimir(pelicula){
			//podemos tener funciones anidadas
			function imprimirPorConsola(pelicula){
				console.log(pelicula)
			}

			function imprimirPorDivHtml(pelicula){
				//código necesario para imprimir en html
			}

			imprimirPorConsola(pelicula)	
		}

		imprimir("Harry Potter y la piedra filosofal")

		//Como las funciones son objetos podemos igualar una variable a una función
		let multiplicar = function(m1,m2){
			return m1 * m2
		}

		console.log(multiplicar(4,2))
		console.log(multiplicar(3,6))

		//En las últimas versiones de JS tenemos las funciones flecha
		//que simplifica el uso de las funciones
		//https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Functions/Arrow_functions
		let imprimirConFlecha = v => console.log(v);
		imprimirConFlecha("valor a imprimir con la función flecha")

		let mutiplicarConFlecha = (m1,m2) => {
			return m1 * m2
		}
		console.log(mutiplicarConFlecha(40,20))
		console.log(mutiplicarConFlecha(30,60))

		console.log("=========================")
		function crearDocumento(datos,funcion){
			console.log("Creando documento")
			/*
			if(tipoDoc == "factura"){
				//codigo necesario para crear una
				//factura
			}else if(tipoDoc == "pedido"){
				//código necesario para crear un 
				//pedido
			}*/
			let codigo = funcion(datos)//invocamos la función pasada por parámetro
			console.log(codigo)
		}

		function crearCodigoFactura(cuerpo){
			console.log("Creando codigo para la Factura")
			return ("Fac-1: " + cuerpo)
		}
		function crearCodigoPedido(cuerpo){
			console.log("Creando codigo para el pedido")
			return ("Pedido-1: " + cuerpo)
		}

		crearDocumento("Datos1", crearCodigoFactura)
		crearDocumento("Datos2", crearCodigoPedido)
		//Con funciones flecha
		crearDocumento("Datos3", cuerpo => {
			console.log("Creando codigo para el repartidor")
			return ("Repartidor-1: " + cuerpo)
		})

		//Usando el objeto Function, aunque es muy antigua
		var miFuncion = new Function("a", "b", "return a+b;");
	</script>
</head>
<body>
	<h1>Funciones Avanzadas!! Pulsa F12 para ver la consola</h1>
</body>
</html>










